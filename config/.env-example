# Http server 
# Максимальное время на чтение заголовков и тела запроса.
HTTP_READ_TIMEOUT=10s
# Максимальное время на обработку запроса и запись ответа.
HTTP_WRITE_TIMEOUT=10s
# Время ожидания следующего запроса при keep-alive соединении (между запросами).
HTTP_IDLE_TIMEOUT=60s
# Временное окно в минутах для сбора статистики или работы rate-limiter'а.
HTTP_STATS_WINDOW_MINUTES=60

# Postgres
# Максимальное количество открытых соединений с БД.
POSTGRES_MAX_CONNS=25
# Минимальное количество соединений.
POSTGRES_MIN_CONNS=5
# Максимальное время жизни соединения перед его принудительным закрытием.
POSTGRES_MAX_CONN_LIFETIME=30m
# Таймаут на установку нового TCP-соединения с сервером БД.
POSTGRES_CONNECT_TIMEOUT=10s
# Сколько времени ждать получения свободного соединения из пула, если все заняты.
POSTGRES_MAX_CONN_WAIT_TIMEOUT=5s
# Лимит на количество закэшированных подготовленных выражений (prepared statements) на одно соединение.
POSTGRES_MAX_CACHED_PREPARED_STATEMENTS=100
# Использовать ли простой протокол (true) вместо бинарного (false). Обычно false для pgx.
POSTGRES_PREFER_SIMPLE_PROTOCOL=false


# Redis
# Максимальный размер пула соединений.
REDIS_POOL_SIZE=10
# Минимальное число соединений в простое, готовых к работе.
REDIS_MIN_IDLE_CONNS=2
# Время ожидания свободного соединения из пула, если все заняты (обычно ReadTimeout + 1с).
REDIS_POOL_TIMEOUT=4s
# Таймаут на установку TCP-соединения с Redis.
REDIS_DIAL_TIMEOUT=5s
# Таймаут на чтение данных из сокета (ожидание ответа от Redis).
REDIS_READ_TIMEOUT=3s
# Таймаут на запись данных в сокет (отправка команды в Redis).
REDIS_WRITE_TIMEOUT=3s
# Количество автоматических повторных попыток при сетевых ошибках.
REDIS_MAX_RETRIES=3


#  Worker
# Максимальное количество попыток выполнения задачи перед отказом.
WORKER_MAX_RETRIES=3
# RetryClient
# Максимальное количество повторных попыток HTTP-запроса при ошибке.
RETRY_CLIENT_MAX=3
# Минимальное время ожидания перед повторной попыткой (backoff start).
RETRY_CLIENT_WAIT_MIN=1s
# Максимальное время ожидания перед повторной попыткой (backoff cap).
RETRY_CLIENT_WAIT_MAX=10s
# Жесткий общий таймаут на всю операцию, включая все попытки (deadline).
RETRY_CLIENT_TIMEOUT=30s
